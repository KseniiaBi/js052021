<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 

	<style>
	*{
		box-sizing: border-box;
		margin: 0;
		padding: 0;
	}


	body{
		padding: 30px;
	}

	.content{
		border: 1px solid #e2e2e2;
		padding: 20px;
	}


	.carousel{
		width: 100%;
		overflow: hidden;
		position: relative;
	}

	.carousel_wrap{
		display: flex;
		width: auto;
		position: relative;
		margin-bottom: 20px;
	}

	.carousel_item{
		width: 30vw;
		height: 100px;
		margin-right: 20px;
		background: #e2e2e2;
		flex: 0 0 auto;
		text-align: center;
		line-height: 100px;
		font-size: 55px;
	}

	#arr_prev, #arr_next{
		position: absolute;
		top: 10px;
		font-size: 70px;
		transform: scaleX(0.5);
		z-index: 10;
		background: rgba(255, 255, 255, 0.5);
		cursor: pointer;
	}
 	#arr_next{
		right: 0;
 	}

 	.carousel_navs{
 		display: flex;
 		justify-content: center;
 		padding: 10px;
 		list-style: none;
 		margin-top: 20px;
 	}
 	.control{
 		width: 14px;
 		height: 14px;
 		border-radius: 50%;
 		margin: 0 10px;
 		border: 1px solid lightgreen;
 		cursor: pointer;
 	}
 	.control.active{
 		background:lightgreen; 
 	}

	</style>
</head>
<body>

	<div class="carousel">
		<div class="carousel_wrap">
			<div class="carousel_item">1</div>
			<div class="carousel_item">2</div>
			<div class="carousel_item">3</div>
			<div class="carousel_item">4</div>
			<div class="carousel_item">5</div>
			<div class="carousel_item">6</div>
			<div class="carousel_item">7</div>
			<div class="carousel_item">8</div>
			<div class="carousel_item">9</div>
			<div class="carousel_item">10</div>
		</div>
		<div id="arr_prev">&lt;</div>
		<div id="arr_next">&gt;</div>

		<ul class="carousel_navs">
			<li data-item="0" class="control active"></li>
			<li data-item="1" class="control"></li>
			<li data-item="2" class="control"></li>
			<li data-item="3" class="control"></li>
			<li data-item="4" class="control"></li>
			<li data-item="5" class="control"></li>
			<li data-item="6" class="control"></li>
			<li data-item="7" class="control"></li>
			<li data-item="8" class="control"></li>
			<li data-item="9" class="control"></li>
		</ul>
	</div>



<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"></script>

<script>

	let prevBtn = $('#arr_prev');
	let nextBtn = $('#arr_next');
	let wrap = $('.carousel_wrap');
	let items = $('.carousel_item');
	let controls = $('.control');

	let activeItem = 0;

	prevBtn.on('click', function() {
		activeItem = activeItem > 0 ? --activeItem : items.length -1;	
		prev(1);
	});
	nextBtn.on('click', function() {
		activeItem = activeItem < items.length -1 ? ++activeItem : 0;	
		next(1);
	});

	controls.click(function(event) {
		let num = +$(event.target).attr('data-item');
		let delta = num - activeItem ;
		activeItem = num;
		if(delta > 0){
			next(delta);
		}
		else{
			prev(Math.abs(delta));
		}
		
	});

	let targetTransform = items.first().outerWidth(true);
	console.log(targetTransform);

	function next(n){
		wrap.animate({
			left: -targetTransform*n
		}, 500, function(){
			for(let i = 0; i < n; i++){
				wrap.append($('.carousel_item').first());
			}
			wrap.css('left', 0);
			controls.removeClass('active');
			$(controls[activeItem]).addClass('active');

		});
	}

	function prev(n){
		for(let i = 0; i < n; i++){
			wrap.prepend($('.carousel_item').last());
			wrap.css('left', -targetTransform*n);
		}
		wrap.animate({
			left: 0
		}, 500, function(){});
		controls.removeClass('active');
		$(controls[activeItem]).addClass('active');
	}


	


</script>

</body>
</html>
