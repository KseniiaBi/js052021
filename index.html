<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JS FE</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!-- по принципу второго мета-тега пишутся все остальные мета-теги -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@1,800&family=Roboto:ital,wght@0,700;1,300;1,400&display=swap"
      rel="stylesheet">
    <!-- <link rel="stylesheet" href="main.css"> -->

  </head>

  <body>


    <script>

      class Machine {
        constructor(name, power){
          this.enabled = false;
          this.name = name;
          this.power = power;
        }
        enable(){
          this.enabled = true;
          console.log(`${this.name} with power ${this.power}W is turned on`);
        }
      }

      let fridge = new Machine('Samsung', 8);
      fridge.enable();



      class CoffeeMaker extends Machine {
        constructor(name, power){
          super(name, power);
          this._waterAmount = 0;
          this.waMAX = 1000;
        }
        
        heat(){
            setTimeout(function () {
              console.log('Кофеварка нагрелась');
            }, 100);
        }

        getPower(){
            console.log(this.power);
        }

        run(){
          if (this.enabled) {
            if (this._waterAmount >= 30) {
              setTimeout(function () {
                console.log('Coffee is ready!');
              }, 1000);
            }
            else {
              console.warn('Не достаточно воды');
            }
          }
        }

        waterAmount(amount){ 
          if (amount === undefined) {
            console.log(this._waterAmount);
          }
          else {
            if (typeof (amount) !== 'number') {
              console.error('Сыпем гвозди...');
              return false;
            }
            if (amount + this._waterAmount > this.waMAX) {
              console.error('Облились!');
            }
            else if (amount < 0) {
              console.error('Эта вода непригодна для полива цветов!');
            }
            else {
              this._waterAmount += amount;
              console.log(`Текущее количество воды - ${this._waterAmount}мл.`);
            }
          }
        }
      }
      
      let cm = new CoffeeMaker('Saeco', 10, 1000);
      cm.enable();
      cm.run();
      cm.waterAmount(100);
      cm.waterAmount();
      cm.waterAmount(-100);
      cm.waterAmount(1100);
      cm.waterAmount();
      cm.waterAmount(350);
      cm.waterAmount('skldfjdslk');
      cm.run();

    </script>
  </body>
</html>


