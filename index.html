<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 

	<style>
	*{
		box-sizing: border-box;
		margin: 0;
		padding: 0;
	}

	body {
		padding: 30px;
		text-align: center;
		font-size: 18px;
	}


	input{
		width: 300px;
		height: 40px;
		outline: none;
		border: 1px solid #333;
		margin-bottom: 30px;
		border-radius: 3px;
	}

	button {
		width: 40px;
		height: 40px;
		border-radius: 3px;
		text-align: center;
		margin: 10px;
	}
	.num{
		background: #e2e2e2;
	}

	.operator{
		background: lightblue;
	}

	.result {
		background: darkblue;
		color: #fff; 
	}

	#calculator{
		display: flex;
		flex-flow: row wrap;
		justify-content: space-between;
		align-items: flex-start;
		width: 300px;
	}
	

	</style>
</head>
<body>


<div id="calculator">
	<input type="text" id="in-out">

	<button class="num">1</button>
	<button class="num">2</button>
	<button class="num">3</button>
	<button class="num">4</button>
	<button class="num">5</button>
	<button class="num">6</button>
	<button class="num">7</button>
	<button class="num">8</button>
	<button class="num">9</button>
	<button class="num">0</button>

	<button class="operator" id="sum">+</button>
	<button class="operator" id="extract">-</button>
	<button class="operator" id="div">/</button>
	<button class="operator" id="mul">*</button>


	<button class="result" id="eq">=</button>
</div>


<script>

	const input = document.querySelector('#in-out');
	const calc = document.querySelector('#calculator');
	let memo = {};
	let secondNum = false;

	calc.addEventListener('click', function(event){
		if(event.target.classList.contains('num')){
			input.value = event.target.innerText;
			console.log(`secondNum: ${secondNum}, buttonText: ${event.target.innerText}`);
			if(!secondNum){
				memo.a = +event.target.innerText;
			}
			else{
				memo.b  = +event.target.innerText;				
			}

			secondNum = !secondNum; // заменит нам в условиях secondNum = true; secondNum = false;
			
		}
		if(event.target.classList.contains('operator')){
			memo.operator = event.target.id;
			console.log(event.target.id);
		}
		if(event.target.classList.contains('result')){
			console.log(memo);
			switch(memo.operator){
				case 'sum': sum(memo.a, memo.b,);
							break;
				case 'extract': extract(memo.a, memo.b);
							break;
				case 'div': divide(memo.a, memo.b);
							break;
				case 'mul': multiply(memo.a, memo.b);
							break;
			}
		}
	});

	function sum(a,b){
		input.value = a+b;
		memo = {};	
	}

	function extract(a,b){
		input.value = a-b;
		memo = {};	
	}

	function multiply(a,b){
		input.value = a*b;
		memo = {};	
	}

	function divide(a,b){
		input.value = a/b;
		memo = {};	
	}

	// HW Upgrade:  после вычисления не очищать обьект, а добавить возможность продолжать вычисления

</script>

</body>
</html>
