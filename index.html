<!DOCTYPE html>
<html lang="en">
<head>
	<title>JS FE</title> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1"> 

</head>
<body>

	<div id="header">header</div>
	<button onclick="alert('Don`t do this!')">Click me!</button>
	<article class="news">Hot news!!</article>
	<section>section1</section>
	<article class="news">Hot news!!</article>
	<section>section2</section>


<script>

	// window
	let currentLocation = window.location.href;
	console.log(currentLocation);


//  как сохранять ссылки на DOM элементы

	const header = document.getElementById('header');
	const btn = document.getElementsByTagName('button')[0];
	const articles = document.getElementsByClassName('news');
	const article0 = document.getElementsByClassName('news')[0];
	const section = document.querySelector('section'); // сюда можно передавать параметром любой валидный селектор, кроме псевдо, например - .news || #header || button div#header
	const sections = document.querySelectorAll('section');


// Tag & Id return HTMLCollection, querySelectorAll returns NodeList


//  события - Events

document.onclick = function(event){
	console.log(event);
}

let foo = () => console.warn('11111');


btn.onclick = foo; // если после названия функции поставить (), то функция вызовется только один раз в момент, когда в свойство onclick записывалась ссылка на функцию

let boo = () => console.error('44444');

section.addEventListener('mouseover', boo);

header.addEventListener('mousemove', function(){
	console.log('Mouse is moving');
	section.removeEventListener('mouseover', boo);
});

header.removeEventListener('mousemove', function(){
	console.log('Mouse is moving');
	section.removeEventListener('mouseover', boo);
}); // не сработает, потому что даже если у нас две идентичные анонимные функции, то как и обьекты они не равны, если не равны их ссылки


// то есть, чтобы работало, нужно записать дальнейшее: 
// let remover = function(){
// 	console.log('Mouse is moving');
// 	section.removeEventListener('mouseover', boo);
// }
// header.addEventListener('mousemove', remover);
// header.removeEventListener('mousemove', remover);

// при этом у нас по первому же событию mousemove на header сразу же ничего не сработает

let x = function(){
	console.log('1');
}
let y = function(){
	console.log('1');
}

//  x == y -> false

let z = function(){
	alert(2);
}

let v = z;
//  v == z -> true


// addEventListener + removeEventListener будут работать вместе только если принимают вторым арументом ссылку на функцию, т.е. второй аргумент в обоих функциях == true по принципу сравнений x, y и v, z


// делегирование событий

document.addEventListener('click', function(event){
	if(event.target.classList.contains('news')){
		console.warn('News Clicked');
	}
	if(event.target.tagName.toLowerCase() == 'button'){
		console.warn('button clicked');
	}
});



</script>

</body>
</html>
